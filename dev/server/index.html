<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Server · SFTP.jl Documentation</title><meta name="title" content="Server · SFTP.jl Documentation"/><meta property="og:title" content="Server · SFTP.jl Documentation"/><meta property="twitter:title" content="Server · SFTP.jl Documentation"/><meta name="description" content="Documentation for SFTP.jl Documentation."/><meta property="og:description" content="Documentation for SFTP.jl Documentation."/><meta property="twitter:description" content="Documentation for SFTP.jl Documentation."/><meta property="og:url" content="https://LIM-AeroCloud.github.io/SFTP.jl/server/"/><meta property="twitter:url" content="https://LIM-AeroCloud.github.io/SFTP.jl/server/"/><link rel="canonical" href="https://LIM-AeroCloud.github.io/SFTP.jl/server/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="SFTP.jl Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">SFTP.jl Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Server</a><ul class="internal"><li><a class="tocitem" href="#Connecting-to-the-server"><span>Connecting to the server</span></a></li><li><a class="tocitem" href="#File-exchange-with-the-server"><span>File exchange with the server</span></a></li></ul></li><li><a class="tocitem" href="../filesystem/">Filesystem</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../release-notes/">Release notes</a></li><li><a class="tocitem" href="../register/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Server</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Server</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/LIM-AeroCloud/SFTP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/LIM-AeroCloud/SFTP.jl/blob/dev/docs/src/server.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Server-functionality"><a class="docs-heading-anchor" href="#Server-functionality">Server functionality</a><a id="Server-functionality-1"></a><a class="docs-heading-anchor-permalink" href="#Server-functionality" title="Permalink"></a></h1><p>The main purpose of <em>SFTP.jl</em> is to connect to a server with the secure file transfer protocol and exchange files between the server and the local system.</p><h2 id="Connecting-to-the-server"><a class="docs-heading-anchor" href="#Connecting-to-the-server">Connecting to the server</a><a id="Connecting-to-the-server-1"></a><a class="docs-heading-anchor-permalink" href="#Connecting-to-the-server" title="Permalink"></a></h2><p><em>SFTP.jl</em> takes care of the connection to the server all by itself. All that needs to be done is to instantiate a <a href="#SFTP.Client"><code>SFTP.Client</code></a> with one of the appropriate constructors for either authentication with username and password or with a certificate.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SFTP.Client" href="#SFTP.Client"><code>SFTP.Client</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct SFTP.Client</code></pre><p><code>SFTP</code> manages the connection to the server and stores all relevant connection data.</p><p><strong>Fields</strong></p><ul><li><code>downloader::Downloader</code>: for handling downloads and managing connections, name lookups, and other resources</li><li><code>uri::URI</code>: save the URI including the present path on the sftp server</li><li><code>username::String</code>: mandatory user name</li><li><code>password::String</code>: optional password, for access by username/password</li><li><code>disable_verify_peer::Bool</code>: disable verification of the peer&#39;s SSL certificate</li><li><code>disable_verify_host::Bool</code>: disable verification of the certificate&#39;s name against host</li><li><code>verbose::Bool</code>: set Curl verbosity</li><li><code>public_key_file::String</code>: the public key file of the certificate authentication</li><li><code>private_key_file::String</code>: the private key file of the certificate authentication</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">SFTP.Client(url::AbstractString, username::AbstractString, public_key_file::AbstractString, public_key_file::AbstractString; kwargs) -&gt; SFTP.Client
SFTP.Client(url::AbstractString, username::AbstractString, password::AbstractString=&quot;&quot;; kwargs) -&gt; SFTP.Client</code></pre><div class="admonition is-info" id="Note-67ea1c1e6d62c4d0"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-67ea1c1e6d62c4d0" title="Permalink"></a></header><div class="admonition-body"><p>A <code>username</code> must be provided for both methods to work.</p></div></div><div class="admonition is-warning" id="Setup-certificate-authentication-720ecd13994400a3"><header class="admonition-header">Setup certificate authentication<a class="admonition-anchor" href="#Setup-certificate-authentication-720ecd13994400a3" title="Permalink"></a></header><div class="admonition-body"><p>Before using the constructor method for certificate authentication, private and public key files must be created and stored in the ~/.ssh folder and on the server and the local system, respectively, e.g., ~/.ssh/id<em>rsa and ~/.ssh/id</em>rsa.pub. Additionally, the host must be added to the known_hosts file in the ~/.ssh folder.</p></div></div><div class="admonition is-info" id="Testing-certificate-authentication-f27e83f349184af1"><header class="admonition-header">Testing certificate authentication<a class="admonition-anchor" href="#Testing-certificate-authentication-f27e83f349184af1" title="Permalink"></a></header><div class="admonition-body"><p>The correct setup can be tested in the terminal with <code>ssh myuser@mysitewhereIhaveACertificate.com</code>.</p></div></div><p>Construct an <code>SFTP.Client</code> from the url and either user information or public and private key files.</p><p><strong>Arguments</strong></p><ul><li><code>url</code>: The url to connect to, e.g., sftp://mysite.com</li><li><code>username</code>/<code>password</code>: user credentials</li><li><code>public_key_file</code>/<code>public_key_file</code>: authentication certificates</li></ul><p><strong>Keyword arguments</strong></p><p>The following keyword arguments exist with default values given in parentheses:</p><ul><li><code>create_known_hosts_entry</code>: Automatically create an entry in known hosts</li><li><code>disable_verify_peer</code>: verify the authenticity of the peer&#39;s certificate</li><li><code>disable_verify_host</code>: verify the host in the server&#39;s TLS certificate</li><li><code>verbose</code>: display a lot of verbose curl information</li></ul><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">sftp = SFTP.Client(&quot;sftp://mysitewhereIhaveACertificate.com&quot;, &quot;myuser&quot;, &quot;test.pub&quot;, &quot;test.pem&quot;)
sftp = SFTP.Client(&quot;sftp://mysitewhereIhaveACertificate.com&quot;, &quot;myuser&quot;)
sftp = SFTP.Client(&quot;sftp://test.rebex.net&quot;, &quot;demo&quot;, &quot;password&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LIM-AeroCloud/SFTP.jl/blob/1a3382689e0bf2eedfe2a5a4290b28a1379adebb/src/client.jl#L3-L61">source</a></section></article><h2 id="File-exchange-with-the-server"><a class="docs-heading-anchor" href="#File-exchange-with-the-server">File exchange with the server</a><a id="File-exchange-with-the-server-1"></a><a class="docs-heading-anchor-permalink" href="#File-exchange-with-the-server" title="Permalink"></a></h2><p>Use the <a href="#SFTP.upload"><code>upload</code></a> and <a href="#Base.download"><code>download</code></a> functions to exchange data with the SFTP server. Options exist for conflicts with already existing files to throw an error, skip the exchange or force an overwrite. The functions can be used to exchange single files, exchange directories recursively or broadcast over a number of files or folders.</p><p>For <a href="#Base.download-Tuple{Function, SFTP.Client, AbstractString}"><code>download</code></a>, an additional method exists to save contents from a remote file directly to a variable.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SFTP.upload" href="#SFTP.upload"><code>SFTP.upload</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">upload(sftp::Client,  src::AbstractString=&quot;.&quot;, dst::AbstractString=&quot;.&quot;; kwargs...) -&gt; String</code></pre><p>Upload (put) <code>src</code> to <code>dst</code> on the <code>sftp</code> server; <code>src</code> can be a file or folder. Folders are uploaded recursively. <code>dst</code> must be an existing folder on the server, otherwise an <code>IOError</code> is thrown. <code>src</code> may include an absolute or relative path on the local system, which is ignored on the server. <code>dst</code> can be an absolute path or a path relative to the current uri path of the <code>sftp</code> server. The function returns <code>dst</code> as <code>String</code>.</p><p>see also: <a href="#Base.download"><code>download</code></a>/ <a href="#Base.download-Tuple{Function, SFTP.Client, AbstractString}"><code>download method</code></a></p><p><strong>Keyword arguments</strong></p><ul><li><code>merge::Bool=false</code>: download into existing folders, when <code>true</code> or throw an <code>IOError</code></li><li><code>force::Union{Nothing,Bool}=nothing</code>: Handle conflicts of existing files/folders<ul><li><code>nothing</code> (default): throw <code>IOError</code> for conflicts</li><li><code>true</code>: overwrite existing files/folders</li><li><code>false</code>: skip existing files/folders</li><li>if <code>merge = true</code>, <code>force</code> counts only for files</li></ul></li><li><code>ignore_hidden::Bool=false</code>: ignore hidden files and folders, if <code>true</code></li><li><code>hide_identifier::Union{Char,AbstractString}=&#39;.&#39;</code>: start sequence of hidden files and folders</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">sftp = SFTP.Client(&quot;sftp://test.rebex.net&quot;, &quot;demo&quot;, &quot;password&quot;)

upload(sftp, &quot;data/test.csv&quot;, &quot;/tmp&quot;) # upload data/test.csv to /tmp/test.csv

files=readdir()
upload.(sftp, files) # upload the current directory to the current directory on the server

upload(sftp, ignore_hidden=true) # the current folder is uploaded to the server without hidden objects</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LIM-AeroCloud/SFTP.jl/blob/1a3382689e0bf2eedfe2a5a4290b28a1379adebb/src/fileexchange.jl#L3-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.download" href="#Base.download"><code>Base.download</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">download(sftp::Client, src::AbstractString=&quot;.&quot;, dst::AbstractString=&quot;.&quot;; kwargs...) -&gt; String</code></pre><p>Download <code>src</code> from the <code>sftp</code> server to <code>dst</code> on the local system; <code>src</code> can be a file or folder. Folders are downloaded recursively. <code>dst</code> must be an existing folder on the local system, otherwise an <code>IOError</code> is thrown. <code>src</code> may include an absolute or relative path on the <code>sftp</code> server, which is ignored on the local system. <code>dst</code> can be an absolute or relative path on the local system. The function returns <code>dst</code> as String.</p><p>see also: <a href="#SFTP.upload"><code>upload</code></a>, other <a href="#Base.download-Tuple{Function, SFTP.Client, AbstractString}"><code>download</code></a> method</p><p><strong>Keyword arguments</strong></p><ul><li><code>merge::Bool=false</code>: download into existing folders, when <code>true</code> or throw an <code>IOError</code></li><li><code>force::Union{Nothing,Bool}=nothing</code>: Handle conflicts of existing files/folders<ul><li><code>nothing</code> (default): throw <code>IOError</code> for conflicts</li><li><code>true</code>: overwrite existing files/folders</li><li><code>false</code>: skip existing files/folders</li><li>if <code>merge = true</code>, <code>force</code> counts only for files</li></ul></li><li><code>ignore_hidden::Bool=false</code>: ignore hidden files and folders, if <code>true</code></li><li><code>hide_identifier::Union{Char,AbstractString}=&#39;.&#39;</code>: start sequence of hidden files and folders</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">sftp = SFTP.Client(&quot;sftp://test.rebex.net/pub/example/&quot;, &quot;demo&quot;, &quot;password&quot;)
files=readdir(sftp)
download_dir=&quot;/tmp&quot;
download.(sftp, files, download_dir)</code></pre><p>Alternatively:</p><pre><code class="language-julia hljs">sftp = SFTP.Client(&quot;sftp://test.rebex.net/pub/example/&quot;, &quot;demo&quot;, &quot;password&quot;)
donwload(sftp) # downloads current folder on server to current directory on local system</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LIM-AeroCloud/SFTP.jl/blob/1a3382689e0bf2eedfe2a5a4290b28a1379adebb/src/fileexchange.jl#L89-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.download-Tuple{Function, SFTP.Client, AbstractString}" href="#Base.download-Tuple{Function, SFTP.Client, AbstractString}"><code>Base.download</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">download(fcn::Function, sftp::SFTP.Client, src::AbstractString)</code></pre><p>Download <code>src</code> from the <code>sftp</code> server and use <code>fcn</code> to retrieve the data from <code>src</code>. <code>src</code> may include an absolute or relative path to a file on the <code>sftp</code> server. Only temporary files are created on the local system and directly deleted after data reading.</p><p>see also: <a href="#SFTP.upload"><code>upload</code></a>, other <a href="#Base.download"><code>download</code></a> method</p><div class="admonition is-info" id="Defining-read-functions-ddff48fd058814b8"><header class="admonition-header">Defining read functions<a class="admonition-anchor" href="#Defining-read-functions-ddff48fd058814b8" title="Permalink"></a></header><div class="admonition-body"><p><code>fcn</code> must have one <code>AbstractString</code> parameter, which is used to pass the temporary file path to any function that reads the contents. The function must return the contents of the file in any desired format, e.g. Matrix, DataFrame or array.</p></div></div><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using CSV
# Define functions to process the file data
fcsv(path::AbstractString)::Matrix{Int} = CSV.read(path, CSV.Tables.matrix)
fread(path::AbstractString)::Vector{String} = readlines(path)
# Download data to variable
matrix = download(fcsv, sftp, &quot;data/matrix.csv&quot;)
array = download(fread, sftp, &quot;data/matrix.csv&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LIM-AeroCloud/SFTP.jl/blob/1a3382689e0bf2eedfe2a5a4290b28a1379adebb/src/fileexchange.jl#L172-L197">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../filesystem/">Filesystem »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Saturday 24 May 2025 14:37">Saturday 24 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
